(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if (typeof define === 'function' && define.amd) define([], factory);
        else if (typeof exports === 'object') exports['deck'] = factory();
  else root['deck'] = factory();})(globalThis, function () {
"use strict";var __exports__=(()=>{var Fe=Object.create;var X=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var Me=Object.getPrototypeOf,He=Object.prototype.hasOwnProperty;var Ue=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ye=(n,e)=>{for(var t in e)X(n,t,{get:e[t],enumerable:!0})},G=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ve(e))!He.call(n,i)&&i!==t&&X(n,i,{get:()=>e[i],enumerable:!(o=Te(e,i))||o.enumerable});return n},L=(n,e,t)=>(G(n,e,"default"),t&&G(t,e,"default")),V=(n,e,t)=>(t=n!=null?Fe(Me(n)):{},G(e||!n||!n.__esModule?X(t,"default",{value:n,enumerable:!0}):t,n)),qe=n=>G(X({},"__esModule",{value:!0}),n);var I=Ue((tt,be)=>{be.exports=globalThis.deck});var A={};ye(A,{CompassWidget:()=>oe,DarkGlassTheme:()=>Ye,DarkTheme:()=>Ke,FullscreenWidget:()=>ne,LightGlassTheme:()=>Qe,LightTheme:()=>Je,ResetViewWidget:()=>Z,ScreenshotWidget:()=>O,ZoomWidget:()=>z,_WidgetImpl:()=>P,_components:()=>me});var C={},we=V(I(),1);L(C,V(I(),1));if(!we.Layer)throw new Error("@deck.gl/core is not found");L(A,C);var F=V(I(),1);var ee,f,Se,ze,D,ke,We,se,ce,re,le,Oe,q={},Le=[],Ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,de=Array.isArray;function N(n,e){for(var t in e)n[t]=e[t];return n}function Ne(n){var e=n.parentNode;e&&e.removeChild(n)}function Ae(n,e,t){var o,i,r,l={};for(r in e)r=="key"?o=e[r]:r=="ref"?i=e[r]:l[r]=e[r];if(arguments.length>2&&(l.children=arguments.length>3?ee.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(r in n.defaultProps)l[r]===void 0&&(l[r]=n.defaultProps[r]);return K(n,l,o,i,null)}function K(n,e,t,o,i){var r={type:n,props:e,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Se,__i:-1,__u:0};return i==null&&f.vnode!=null&&f.vnode(r),r}function M(n){return n.children}function Q(n,e){this.props=n,this.context=e}function R(n,e){if(e==null)return n.__?R(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?R(n):null}function Ie(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Ie(n)}}function Pe(n){(!n.__d&&(n.__d=!0)&&D.push(n)&&!Y.__r++||ke!==f.debounceRendering)&&((ke=f.debounceRendering)||We)(Y)}function Y(){var n,e,t,o,i,r,l,a;for(D.sort(se);n=D.shift();)n.__d&&(e=D.length,o=void 0,r=(i=(t=n).__v).__e,l=[],a=[],t.__P&&((o=N({},i)).__v=i.__v+1,f.vnode&&f.vnode(o),pe(t.__P,o,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,l,r??R(i),!!(32&i.__u),a),o.__v=i.__v,o.__.__k[o.__i]=o,Ee(l,o,a),o.__e!=r&&Ie(o)),D.length>e&&D.sort(se));Y.__r=0}function De(n,e,t,o,i,r,l,a,p,c,_){var s,y,d,g,w,v=o&&o.__k||Le,m=e.length;for(t.__d=p,je(t,e,v),p=t.__d,s=0;s<m;s++)(d=t.__k[s])!=null&&typeof d!="boolean"&&typeof d!="function"&&(y=d.__i===-1?q:v[d.__i]||q,d.__i=s,pe(n,d,y,i,r,l,a,p,c,_),g=d.__e,d.ref&&y.ref!=d.ref&&(y.ref&&_e(y.ref,null,d),_.push(d.ref,d.__c||g,d)),w==null&&g!=null&&(w=g),65536&d.__u||y.__k===d.__k?p=Re(d,p,n):typeof d.type=="function"&&d.__d!==void 0?p=d.__d:g&&(p=g.nextSibling),d.__d=void 0,d.__u&=-196609);t.__d=p,t.__e=w}function je(n,e,t){var o,i,r,l,a,p=e.length,c=t.length,_=c,s=0;for(n.__k=[],o=0;o<p;o++)l=o+s,(i=n.__k[o]=(i=e[o])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?K(null,i,null,null,null):de(i)?K(M,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?K(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=n,i.__b=n.__b+1,a=Be(i,t,l,_),i.__i=a,r=null,a!==-1&&(_--,(r=t[a])&&(r.__u|=131072)),r==null||r.__v===null?(a==-1&&s--,typeof i.type!="function"&&(i.__u|=65536)):a!==l&&(a==l-1?s--:a==l+1?s++:a>l?_>p-l?s+=a-l:s--:a<l&&(a==l-s?s-=a-l:s++),a!==o+s&&(i.__u|=65536))):(r=t[l])&&r.key==null&&r.__e&&!(131072&r.__u)&&(r.__e==n.__d&&(n.__d=R(r)),ae(r,r,!1),t[l]=null,_--);if(_)for(o=0;o<c;o++)(r=t[o])!=null&&!(131072&r.__u)&&(r.__e==n.__d&&(n.__d=R(r)),ae(r,r))}function Re(n,e,t){var o,i;if(typeof n.type=="function"){for(o=n.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=n,e=Re(o[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=R(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Be(n,e,t,o){var i=n.key,r=n.type,l=t-1,a=t+1,p=e[t];if(p===null||p&&i==p.key&&r===p.type&&!(131072&p.__u))return t;if(o>(p!=null&&!(131072&p.__u)?1:0))for(;l>=0||a<e.length;){if(l>=0){if((p=e[l])&&!(131072&p.__u)&&i==p.key&&r===p.type)return l;l--}if(a<e.length){if((p=e[a])&&!(131072&p.__u)&&i==p.key&&r===p.type)return a;a++}}return-1}function xe(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Ze.test(e)?t:t+"px"}function J(n,e,t,o,i){var r;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof o=="string"&&(n.style.cssText=o=""),o)for(e in o)t&&e in t||xe(n.style,e,"");if(t)for(e in t)o&&t[e]===o[e]||xe(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in n||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+r]=t,t?o?t.u=o.u:(t.u=ce,n.addEventListener(e,r?le:re,r)):n.removeEventListener(e,r?le:re,r);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function Ce(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=ce++;else if(e.t<t.u)return;return t(f.event?f.event(e):e)}}}function pe(n,e,t,o,i,r,l,a,p,c){var _,s,y,d,g,w,v,m,h,H,W,j,U,ve,B,ie,x=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(p=!!(32&t.__u),r=[a=e.__e=t.__e]),(_=f.__b)&&_(e);e:if(typeof x=="function")try{if(m=e.props,h="prototype"in x&&x.prototype.render,H=(_=x.contextType)&&o[_.__c],W=_?H?H.props.value:_.__:o,t.__c?v=(s=e.__c=t.__c).__=s.__E:(h?e.__c=s=new x(m,W):(e.__c=s=new Q(m,W),s.constructor=x,s.render=Ge),H&&H.sub(s),s.props=m,s.state||(s.state={}),s.context=W,s.__n=o,y=s.__d=!0,s.__h=[],s._sb=[]),h&&s.__s==null&&(s.__s=s.state),h&&x.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=N({},s.__s)),N(s.__s,x.getDerivedStateFromProps(m,s.__s))),d=s.props,g=s.state,s.__v=e,y)h&&x.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),h&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(h&&x.getDerivedStateFromProps==null&&m!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(m,W),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(m,s.__s,W)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(s.props=m,s.state=s.__s,s.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function($){$&&($.__=e)}),j=0;j<s._sb.length;j++)s.__h.push(s._sb[j]);s._sb=[],s.__h.length&&l.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(m,s.__s,W),h&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,g,w)})}if(s.context=W,s.props=m,s.__P=n,s.__e=!1,U=f.__r,ve=0,h){for(s.state=s.__s,s.__d=!1,U&&U(e),_=s.render(s.props,s.state,s.context),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[]}else do s.__d=!1,U&&U(e),_=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++ve<25);s.state=s.__s,s.getChildContext!=null&&(o=N(N({},o),s.getChildContext())),h&&!y&&s.getSnapshotBeforeUpdate!=null&&(w=s.getSnapshotBeforeUpdate(d,g)),De(n,de(ie=_!=null&&_.type===M&&_.key==null?_.props.children:_)?ie:[ie],e,t,o,i,r,l,a,p,c),s.base=e.__e,e.__u&=-161,s.__h.length&&l.push(s),v&&(s.__E=s.__=null)}catch($){if(e.__v=null,p||r!=null){for(e.__u|=p?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,e.__e=a}else e.__e=t.__e,e.__k=t.__k;f.__e($,e,t)}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=$e(t.__e,e,t,o,i,r,l,p,c);(_=f.diffed)&&_(e)}function Ee(n,e,t){e.__d=void 0;for(var o=0;o<t.length;o++)_e(t[o],t[++o],t[++o]);f.__c&&f.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(r){r.call(i)})}catch(r){f.__e(r,i.__v)}})}function $e(n,e,t,o,i,r,l,a,p){var c,_,s,y,d,g,w,v=t.props,m=e.props,h=e.type;if(h==="svg"?i="http://www.w3.org/2000/svg":h==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(c=0;c<r.length;c++)if((d=r[c])&&"setAttribute"in d==!!h&&(h?d.localName===h:d.nodeType===3)){n=d,r[c]=null;break}}if(n==null){if(h===null)return document.createTextNode(m);n=document.createElementNS(i,h,m.is&&m),r=null,a=!1}if(h===null)v===m||a&&n.data===m||(n.data=m);else{if(r=r&&ee.call(n.childNodes),v=t.props||q,!a&&r!=null)for(v={},c=0;c<n.attributes.length;c++)v[(d=n.attributes[c]).name]=d.value;for(c in v)if(d=v[c],c!="children"){if(c=="dangerouslySetInnerHTML")s=d;else if(c!=="key"&&!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;J(n,c,null,d,i)}}for(c in m)d=m[c],c=="children"?y=d:c=="dangerouslySetInnerHTML"?_=d:c=="value"?g=d:c=="checked"?w=d:c==="key"||a&&typeof d!="function"||v[c]===d||J(n,c,d,v[c],i);if(_)a||s&&(_.__html===s.__html||_.__html===n.innerHTML)||(n.innerHTML=_.__html),e.__k=[];else if(s&&(n.innerHTML=""),De(n,de(y)?y:[y],e,t,o,h==="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,l,r?r[0]:t.__k&&R(t,0),a,p),r!=null)for(c=r.length;c--;)r[c]!=null&&Ne(r[c]);a||(c="value",g!==void 0&&(g!==n[c]||h==="progress"&&!g||h==="option"&&g!==v[c])&&J(n,c,g,v[c],i),c="checked",w!==void 0&&w!==n[c]&&J(n,c,w,v[c],i))}return n}function _e(n,e,t){try{if(typeof n=="function"){var o=typeof n.__u=="function";o&&n.__u(),o&&e==null||(n.__u=n(e))}else n.current=e}catch(i){f.__e(i,t)}}function ae(n,e,t){var o,i;if(f.unmount&&f.unmount(n),(o=n.ref)&&(o.current&&o.current!==n.__e||_e(o,null,e)),(o=n.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){f.__e(r,e)}o.base=o.__P=null}if(o=n.__k)for(i=0;i<o.length;i++)o[i]&&ae(o[i],e,t||typeof n.type!="function");t||n.__e==null||Ne(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function Ge(n,e,t){return this.constructor(n,t)}function S(n,e,t){var o,i,r,l;f.__&&f.__(n,e),i=(o=typeof t=="function")?null:t&&t.__k||e.__k,r=[],l=[],pe(e,n=(!o&&t||e).__k=Ae(M,null,[n]),i||q,q,e.namespaceURI,!o&&t?[t]:i?null:e.firstChild?ee.call(e.childNodes):null,r,!o&&t?t:i?i.__e:e.firstChild,o,l),Ee(r,n,l)}ee=Le.slice,f={__e:function(n,e,t,o){for(var i,r,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(n)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,o||{}),l=i.__d),l)return i.__E=i}catch(a){n=a}throw n}},Se=0,ze=function(n){return n!=null&&n.constructor==null},Q.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof n=="function"&&(n=n(N({},t),this.props)),n&&N(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Pe(this))},Q.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Pe(this))},Q.prototype.render=M,D=[],We=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,se=function(n,e){return n.__v.__b-e.__v.__b},Y.__r=0,ce=0,re=Ce(!1),le=Ce(!0),Oe=0;var me={};ye(me,{ButtonGroup:()=>ue,GroupedIconButton:()=>te,IconButton:()=>E});var Xe=0,st=Array.isArray;function u(n,e,t,o,i,r){e||(e={});var l,a,p=e;if("ref"in p)for(a in p={},e)a=="ref"?l=e[a]:p[a]=e[a];var c={type:n,props:p,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Xe,__i:-1,__u:0,__source:i,__self:r};if(typeof n=="function"&&(l=n.defaultProps))for(a in l)p[a]===void 0&&(p[a]=l[a]);return f.vnode&&f.vnode(c),c}var E=n=>{let{className:e,label:t,onClick:o}=n;return u("div",{className:"deck-widget-button",children:u("button",{className:`deck-widget-icon-button ${e}`,type:"button",onClick:o,title:t,children:u("div",{className:"deck-widget-icon"})})})},ue=n=>{let{children:e,orientation:t}=n;return u("div",{className:`deck-widget-button-group ${t}`,children:e})},te=n=>{let{className:e,label:t,onClick:o}=n;return u("button",{className:`deck-widget-icon-button ${e}`,type:"button",onClick:o,title:t,children:u("div",{className:"deck-widget-icon"})})};var ne=class{constructor(e){this.id="fullscreen";this.placement="top-left";this.fullscreen=!1;this.id=e.id??this.id,this.placement=e.placement??this.placement,this.props={...e,enterLabel:e.enterLabel??"Enter Fullscreen",exitLabel:e.exitLabel??"Exit Fullscreen",style:e.style??{}}}onAdd({deck:e}){let{style:t,className:o}=this.props,i=document.createElement("div");return i.classList.add("deck-widget","deck-widget-fullscreen"),o&&i.classList.add(o),(0,F._applyStyles)(i,t),this.deck=e,this.element=i,this.update(),document.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),i}onRemove(){this.deck=void 0,this.element=void 0,document.removeEventListener("fullscreenchange",this.onFullscreenChange.bind(this))}update(){let{enterLabel:e,exitLabel:t}=this.props,o=this.element;if(!o)return;let i=u(E,{onClick:this.handleClick.bind(this),label:this.fullscreen?t:e,className:this.fullscreen?"deck-widget-fullscreen-exit":"deck-widget-fullscreen-enter"});S(i,o)}setProps(e){this.placement=e.placement??this.placement;let t=this.props,o=this.element;o&&(t.className!==e.className&&(t.className&&o.classList.remove(t.className),e.className&&o.classList.add(e.className)),(0,F._deepEqual)(t.style,e.style,1)||((0,F._removeStyles)(o,t.style),(0,F._applyStyles)(o,e.style))),Object.assign(this.props,e),this.update()}getContainer(){return this.props.container||this.deck?.getCanvas()?.parentElement}onFullscreenChange(){let e=this.fullscreen,t=document.fullscreenElement===this.getContainer();e!==t&&(this.fullscreen=!this.fullscreen),this.update()}async handleClick(){this.fullscreen?await this.exitFullscreen():await this.requestFullscreen(),this.update()}async requestFullscreen(){let e=this.getContainer();e?.requestFullscreen?await e.requestFullscreen({navigationUI:"hide"}):this.togglePseudoFullscreen()}async exitFullscreen(){document.exitFullscreen?await document.exitFullscreen():this.togglePseudoFullscreen()}togglePseudoFullscreen(){this.getContainer()?.classList.toggle("deck-pseudo-fullscreen")}};var b=V(I(),1);var oe=class{constructor(e){this.id="compass";this.placement="top-left";this.viewId=null;this.viewports={};this.id=e.id??this.id,this.viewId=e.viewId??this.viewId,this.placement=e.placement??this.placement,this.props={...e,transitionDuration:e.transitionDuration??200,label:e.label??"Reset Compass",style:e.style??{}}}setProps(e){this.placement=e.placement??this.placement,this.viewId=e.viewId??this.viewId;let t=this.props,o=this.element;o&&(t.className!==e.className&&(t.className&&o.classList.remove(t.className),e.className&&o.classList.add(e.className)),(0,b._deepEqual)(t.style,e.style,1)||((0,b._removeStyles)(o,t.style),(0,b._applyStyles)(o,e.style))),Object.assign(this.props,e),this.update()}onViewportChange(e){e.equals(this.viewports[e.id])||(this.viewports[e.id]=e,this.update())}onAdd({deck:e}){let{style:t,className:o}=this.props,i=document.createElement("div");return i.classList.add("deck-widget","deck-widget-compass"),o&&i.classList.add(o),(0,b._applyStyles)(i,t),this.deck=e,this.element=i,this.update(),i}getRotation(e){return e instanceof b.WebMercatorViewport?[-e.bearing,e.pitch]:e instanceof b._GlobeViewport?[0,Math.max(-80,Math.min(80,e.latitude))]:[0,0]}update(){let e=this.viewId||Object.values(this.viewports)[0]?.id||"default-view",t=this.viewports[e],[o,i]=this.getRotation(t),r=this.element;if(!r)return;let l=u("div",{className:"deck-widget-button",style:{perspective:100},children:u("button",{type:"button",onClick:()=>{for(let a of Object.values(this.viewports))this.handleCompassReset(a)},title:this.props.label,style:{transform:`rotateX(${i}deg)`},children:u("svg",{fill:"none",width:"100%",height:"100%",viewBox:"0 0 26 26",children:u("g",{transform:`rotate(${o},13,13)`,children:[u("path",{d:"M10 13.0001L12.9999 5L15.9997 13.0001H10Z",fill:"var(--icon-compass-north-color, #F05C44)"}),u("path",{d:"M16.0002 12.9999L13.0004 21L10.0005 12.9999H16.0002Z",fill:"var(--icon-compass-south-color, #C2C2CC)"})]})})})});S(l,r)}onRemove(){this.deck=void 0,this.element=void 0}handleCompassReset(e){let t=this.viewId||e.id||"default-view";if(e instanceof b.WebMercatorViewport){let o={...e,bearing:0,...this.getRotation(e)[0]===0?{pitch:0}:{},transitionDuration:this.props.transitionDuration,transitionInterpolator:new b.FlyToInterpolator};this.deck._onViewStateChange({viewId:t,viewState:o,interactionState:{}})}}};var k=V(I(),1);var fe=class{constructor(e={}){this.id="zoom";this.placement="top-left";this.viewId=null;this.viewports={};this.id=e.id??this.id,this.viewId=e.viewId??this.viewId,this.placement=e.placement??this.placement,this.props={...fe.defaultProps,...e}}onAdd({deck:e}){let{style:t,className:o}=this.props,i=document.createElement("div");return i.classList.add("deck-widget","deck-widget-zoom"),o&&i.classList.add(o),(0,k._applyStyles)(i,t),this.deck=e,this.element=i,this.update(),i}onRemove(){this.deck=void 0,this.element=void 0}setProps(e){this.placement=e.placement??this.placement,this.viewId=e.viewId??this.viewId;let t=this.props,o=this.element;o&&(t.className!==e.className&&(t.className&&o.classList.remove(t.className),e.className&&o.classList.add(e.className)),(0,k._deepEqual)(t.style,e.style,1)||((0,k._removeStyles)(o,t.style),(0,k._applyStyles)(o,e.style))),Object.assign(this.props,e),this.update()}onViewportChange(e){this.viewports[e.id]=e}handleZoom(e,t){let o=this.viewId||e?.id||"default-view",i={...e,zoom:t};this.props.transitionDuration>0&&(i.transitionDuration=this.props.transitionDuration,i.transitionInterpolator="latitude"in i?new k.FlyToInterpolator:new k.LinearInterpolator),this.setViewState(o,i)}handleZoomIn(){for(let e of Object.values(this.viewports))this.handleZoom(e,e.zoom+1)}handleZoomOut(){for(let e of Object.values(this.viewports))this.handleZoom(e,e.zoom-1)}setViewState(e,t){this.deck._onViewStateChange({viewId:e,viewState:t,interactionState:{}})}update(){let e=this.element;if(!e)return;let t=u(ue,{orientation:this.props.orientation,children:[u(te,{onClick:()=>this.handleZoomIn(),label:this.props.zoomInLabel,className:"deck-widget-zoom-in"}),u(te,{onClick:()=>this.handleZoomOut(),label:this.props.zoomOutLabel,className:"deck-widget-zoom-out"})]});S(t,e)}},z=fe;z.defaultProps={id:"zoom-widget",style:{},placement:"top-left",className:void 0,orientation:"vertical",transitionDuration:200,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",viewId:void 0};var T=V(I(),1),P=class{constructor(e){this.id=e.id||"widget",this.props=e}onAdd({deck:e}){this.deck=e;let{style:t,className:o}=this.props,i=this._createRootElement({widgetClassName:this.className,className:o,style:t});return this.element=i,this.onRenderHTML(),this.element}onRemove(){this.deck=void 0,this.element=void 0}setProps(e){let t=this.props,o=this.element;o&&(t.className!==e.className&&(t.className&&o.classList.remove(t.className),e.className&&o.classList.add(e.className)),(0,T._deepEqual)(t.style,e.style,1)||((0,T._removeStyles)(o,t.style),(0,T._applyStyles)(o,e.style))),Object.assign(this.props,e),this.onRenderHTML()}_createRootElement(e){let{widgetClassName:t,className:o,style:i}=e,r=document.createElement("div");return["deck-widget",t,o].filter(l=>typeof l=="string"&&l.length>0).forEach(l=>r.classList.add(l)),(0,T._applyStyles)(r,i),r}};P.defaultProps={id:"widget",style:{},className:""};var he=class extends P{constructor(t={}){super({...he.defaultProps,...t});this.className="deck-widget-screenshot";this.placement="top-left";this.placement=t.placement??this.placement}setProps(t){this.placement=t.placement??this.placement,super.setProps(t)}onRenderHTML(){let t=this.element;t&&S(u(E,{className:"deck-widget-camera",label:this.props.label,onClick:this.handleClick.bind(this)}),t)}handleClick(){if(this.props.onCapture){this.props.onCapture(this);return}let t=this.captureScreenToDataURL(this.props.imageFormat);t&&this.downloadDataURL(t,this.props.filename)}captureScreenToDataURL(t){return this.deck?.getCanvas()?.toDataURL(t)}downloadDataURL(t,o){let i=document.createElement("a");i.href=t,i.download=o,i.click()}},O=he;O.defaultProps={...P.defaultProps,id:"screenshot",placement:"top-left",label:"Screenshot",filename:"screenshot.png",imageFormat:"image/png",onCapture:void 0};var ge=class extends P{constructor(t={}){super({...ge.defaultProps,...t});this.className="deck-widget-reset-view";this.placement="top-left";this.placement=t.placement??this.placement}setProps(t){this.placement=t.placement??this.placement,super.setProps(t)}onRenderHTML(){let t=this.element;t&&S(u(E,{className:"deck-widget-reset-focus",label:this.props.label,onClick:this.handleClick.bind(this)}),t)}handleClick(){let t=this.props.initialViewState||this.deck?.props.initialViewState;this.setViewState(t)}setViewState(t){let o=this.props.viewId||t?.id||"default-view",i={...t};this.deck._onViewStateChange({viewId:o,viewState:i,interactionState:{}})}},Z=ge;Z.defaultProps={...P.defaultProps,id:"reset-view",placement:"top-left",label:"Reset View",initialViewState:void 0,viewId:void 0};var Je={"--button-background":"#fff","--button-stroke":"rgba(255, 255, 255, 0.3)","--button-inner-stroke":"unset","--button-shadow":"0px 0px 8px 0px rgba(0, 0, 0, 0.25)","--button-backdrop-filter":"unset","--button-icon-idle":"rgba(97, 97, 102, 1)","--button-icon-hover":"rgba(24, 24, 26, 1)","--icon-compass-north-color":"#F05C44","--icon-compass-south-color":"#C2C2CC"},Ke={"--button-background":"rgba(18, 18, 20, 1)","--button-stroke":"rgba(18, 18, 20, 0.30)","--button-inner-stroke":"unset","--button-shadow":"0px 0px 8px 0px rgba(0, 0, 0, 0.25)","--button-backdrop-filter":"unset","--button-icon-idle":"rgba(158, 157, 168, 1)","--button-icon-hover":"rgba(215, 214, 229, 1)","--icon-compass-north-color":"#F05C44","--icon-compass-south-color":"#C2C2CC"},Qe={"--button-background":"rgba(255, 255, 255, 0.6)","--button-stroke":"rgba(255, 255, 255, 0.3)","--button-inner-stroke":"1px solid rgba(255, 255, 255, 0.6)","--button-shadow":"0px 0px 8px 0px rgba(0, 0, 0, 0.25), 0px 0px 8px 0px rgba(0, 0, 0, 0.1) inset","--button-backdrop-filter":"blur(4px)","--button-icon-idle":"rgba(97, 97, 102, 1)","--button-icon-hover":"rgba(24, 24, 26, 1)","--icon-compass-north-color":"#F05C44","--icon-compass-south-color":"#C2C2CC"},Ye={"--button-background":"rgba(18, 18, 20, 0.75)","--button-stroke":"rgba(18, 18, 20, 0.30)","--button-inner-stroke":"1px solid rgba(18, 18, 20, 0.75)","--button-shadow":"0px 0px 8px 0px rgba(0, 0, 0, 0.25), 0px 0px 8px 0px rgba(0, 0, 0, 0.1) inset","--button-backdrop-filter":"blur(4px)","--button-icon-idle":"rgba(158, 157, 168, 1)","--button-icon-hover":"rgba(215, 214, 229, 1)","--icon-compass-north-color":"#F05C44","--icon-compass-south-color":"#C2C2CC"};return qe(A);})();
      return __exports__;
      });
